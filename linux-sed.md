# linux-sed

流编辑器，实现对文件的增删改替换查。（增、删、改、查、过滤、取行）

**语法格式**

```
sed [options] [sed-commands] [input-file]
sed 选项    sed命令    输入文件
```

注意：

sed过滤注意加 p

sed 's###g' 

g与s联合使用时，表示对当前全局匹配替换

g 表示对全局

s常说的查找并替换，用一个字符串替换成另一个

\#是分隔符，可以用/@等替换 

```
-n 取消默认输出
-i 修改文件
-f 后接sed脚本文件名
-r 使用扩展正则表达式 使用扩展正则表达式，默认sed只识别基本正则表达式
-e 执行多条sed命令
[sed-commands]  sed命令
a 追加
i 插入
d 删除
c 替换指定的行
s 替换指定字符串 g 命令的替换标志-全局替换标志
g  
p  输出指定内容，与-n选项连用
w 另存文件
''  单引号，所见即所得
""  双引号，保持参数的变量

2.1 指定执行的地址范围
n1[,n2]{sed-commands}
10{sed-commands}               ##对第10行执行命令
10,20{sed-commands}            ##对第10行到20行执行命令
10,+20{sed-commands}           ##对第10行到30行执行命令
1~2{sed-commands} 1 3 5 7 9    ##对奇数行执行命令
2~2                            ##对偶数行执行命令
10,${sed-commands}             ##对10行到最后一行执行命令
/zhangyao/{sed-commands}         ##对匹配内容执行命令
/zhangyao/,/Alex/{sed-commands}  ##对匹配zhangyao 和alex 之间的行进行操作，执行命令
/zhangyao/,${sed-commands}       ##对匹配zhangyao这一行到最后一行，都执行这个命令
10,/Alex/{sed-commands}       ##第10行到匹配alex（匹配最后一个包含alex的行）这行之间执行操作
/Alex/,10{sed-commands}       ##对匹配alex这行（第一个alex）到后面10行 执行命令
/zhangyao/,+20{sed-commands}  ##对匹配zhangyao这行到后面的20行都执行这个命令执行命令
2.2 反向引用
a  新增，在指定行后添加一行或者多行文本
c  取代指定的行
d  删除指定的行
i  插入，在指定行前添加一行或多行文本
h  把模式空间的内容复制到保持空间
H  把模式空间的内容追加到保持空间
g  把保持空间的内容复制到模式空间
G  把保持空间的内容追加到模式空间
l  打印不可见的字符
n  清空模式空间的内容并读入下一行
N  读取下一行数据并追加到模式空间
p  打印模式空间的内容，通常p会与选项-n 一起运行
P （大写）打印模式空间的内容，直到遇到换行符\n
q  退出sed
r  从指定文件读取数据
s  取代，s/old/new/g ==> 这里g是s命令的替代标志，注意和g命令区分
w  另存，把模式空间的内容保存到文件中。
x  交换模式空间和保持空间的内容
y  根据对应位置转换字符
2.3 特殊符号
！  对指定行以外的所有行应用命令
=   打印当前行行号
~   步长 First~Step 从First行开始以步长Step递增的行
&   代表被替换的内容

```

